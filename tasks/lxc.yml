---
- name: "PROXMOX | Container management - state: {{ proxmox_state }}"
  community.general.proxmox:
    vmid: "{{ proxmox_vmid }}"
    node: "{{ proxmox_node }}"
    api_user: "{{ proxmox_api_user }}"
    api_password: "{{ proxmox_api_password | default(omit) }}"
    api_token_id: "{{ proxmox_token_id | default(omit) }}"
    api_token_secret: "{{ proxmox_api_token_secret | default(omit) }}"
    api_host: "{{ proxmox_api_host }}"
    password: "{{ proxmox_ct_password }}"
    description: "{{ proxmox_description | default('Managed with Ansible.') }}"

    state: "{{ proxmox_state | default(omit) }}"
    force: "{{ proxmox_ct_enforcing | default(omit) }}"
    clone: "{{ proxmox_clone | default(omit) }}"
    hookscript "{{ proxmox_ct_hookscript | default(omit) }}"
    pool: "{{ proxmox_pool | default(omit) }}"
    pubkey: "{{ proxmox_ct_public_key | default(omit) }}"
    purge: "{{ proxmox_ct_purge | default(omit) }}"
    tags: "{{ proxmox_ct_tags" | default(omit) }}"
    unprivileged: "{{ proxmox_ct_unpriviledged | default(omit) }}"
    validate_certs: "{{ proxmox_validate_certs | default(omit) }}"
    
    hostname: "{{ proxmox_ct_hostname | default(omit) }}"
    ostemplate: "{{ proxmox_ct_os_temlate | | default(omit) }}"
    cores: "{{ proxmox_cpu_cores | default(omit) }}"
    cpus: "{{ proxmox_cpu_count | default(omit) }}"
    disk: "{{ proxmox_ct_disk_options | default(omit) }}'
    memory: "{{ proxmox_memory | default(omit) }}"
    mounts: "{{ proxmox_ct_disk_mounts | default(omit) }}"
    storage: "{{ proxmox_ct_disk_storage | default(omit) }}"

    nameserver: "{{ proxmox_dns_nameserver | default(omit) }}"
    ip_address: "{{ proxmox_ip_address | default(omit) }}"
    netif: "{{ proxmox_network_interfaces | default(omit) }}"
    onboot: "{{ proxmox_onboot | default(omit) }}"
    searchdomain: "{{ proxmox_searchdomain | default(omit) }}"
    features: "{{ proxmox_features| default(omit) }}"
